# JournalExpert

## О проекте
**JournalExpert** — iOS-приложение на **SwiftUI** с лентой статей, доступ к которым открывается по подписке (месяц / год), и онбордингом, который показывается один раз.

---

## Технологии
- Swift  
- SwiftUI
- MVVM
- CoreData
- UserDefaults

---

## Архитектурные решения
- **MVVM**
- **Observation framework**
  - `@Observable`
  - `@Bindable`
- **Navigation**
  - `NavigationStack`
  - `NavigationPath`
  - Programmatic navigation (роутинг через `enum`)
- **Хранение данных**
  - Core Data — для подписок
  - UserDefaults — для флага просмотра онбординга
- **Dependency Injection**
  - Assembly (ручная сборка зависимостей)

---

## Архитектура проекта

Проект построен по архитектуре **MVVM**.

### View
- Отвечает только за отображение UI  
- Использует привязки `@Bindable` к `ViewModel`
- Не содержит бизнес-логики

### ViewModel
- Помечен как `@Observable`
- Хранит состояние экрана
- Обрабатывает действия пользователя:
  - tap
  - continue
  - back
- Решает вопросы навигации (роутинг)
- Вызывает сервисы и репозитории

### Services / Repositories
- Содержат бизнес-логику
- Работа с:
  - Core Data
  - UserDefaults

### Assembly
- Создаёт граф зависимостей
- Инициализирует:
  - ViewModel
  - Services
- Передаёт зависимости во `View` через `init`

---

## Для дальнейшего улучшения

### Экран настроек и тариф

#### Раздел «Подписка»
- Текущий тариф (месяц / год)
- Дата окончания подписки
- Авто-продление
- Статус подписки:
  - активна
  - истекает
  - просрочена
  - grace period
- История покупок / транзакций

#### Настройки приложения
- Тема: `light / dark / system`
- Размер шрифта / режим чтения
- Уведомления о новых статьях
- Язык
- «Сбросить онбординг»
- «О приложении»

---

### Экран статьи (проработанный reader)

#### Типографика
- Заголовки и подзаголовки
- Списки
- Цитаты
- Изображения
- Ссылки

#### Интерактив
- Поделиться статьёй
- «В избранное»
- «Прочитано»
- Теги / категории
- Рекомендации «похожие статьи»
- Комментарии / фидбек

#### Доступность
- Dynamic Type
- VoiceOver
- Контраст
- Корректные `accessibilityLabel`

---

### Архитектура и качество кода

- Использовать протоколы для сервисов:
  - `ArticleServicing`
  - `SubscriptionServicing`
  - `OnboardingStoring`
  - `Routing`
- Это упростит Dependency Injection и позволит легко подменять реализации
  (моки / стабы) в тестах и SwiftUI Preview
- Снижение связности и повышение тестируемости

#### Domain / Use Cases
- Добавить слой domain / use-cases, например:
  - `CheckAccessToArticleUseCase`
  - `ActivateSubscriptionUseCase`
- ViewModel станет тоньше
- Бизнес-логика будет переиспользуемой

---

### Тестирование

#### Unit-тесты
- ViewModel:
  - роутинг (открытие статьи или paywall)
  - состояние кнопок
  - обработка ошибок
- Сервисы:
  - Core Data (in-memory store)
  - проверка predicates
  - сохранение и чтение данных

#### UI-тесты
- Критический пользовательский флоу:
  - онбординг
  - лента
  - paywall
  - покупка
  - доступ к статье

